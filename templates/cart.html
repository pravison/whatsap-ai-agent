{% extends 'base.html'%}
{% load static %}
{% block title%}cart{%endblock title%}
{% block content %}

<div class="row col-lg-12 mt-5 p-lg-5 " style="color: black; margin-top: 300px;">
    <div class="mt-5 p-lg-5" >

    </div>
    <div class="overflow-auto float justify-content-center align-items-center">
        <div class="col-lg-12">
            <div class="box-element">
              <a class="btn btn-outline-dark" href="{% url 'products' %}"><span class="icon-arrow"></span>Products</a>
              <br/>
              <hr/>
              <table class="table">
                <tr>
                    <th><h5>Product Items: <strong>{{ order.get_cart_items}}</strong></h5></th>
                    <th><h5>Total: <strong> {{order.get_cart_total }}</strong></h5></th>
                    <th>
                        <a style="float:right; margin:5px" class="btn btn-success" href="{% url 'checkout' %}">Checkout</a>
                    </th>
                </tr>
              </table>
            </div>
    
            <br/>
    
            <div class="box-element">
                <div class="cart-row" style="display: flex;">
                    <div style="flex:2"></div>
                    <div style="flex:2"><strong>Item</strong></div>
                    <div style="flex:1"><strong>Price</strong></div>
                    <div style="flex:1"><strong>Quantity</strong></div>
                </div>
                <hr/>
                {% for item in cartItems %}
                <div class="cart-row" style="display: flex; align-items: center;">
                    <div style="flex:2"><img src="{%if item.product_photo%}{{ item.product.imageURL}}{% else %}{{item.product.qr_code.url}}{% endif %}" class="img-fluid" style="width:80px; " alt=""></div>
                    <div style="flex:2">{{item.product.name}}</div>
                    <div style="flex:1">{{item.product.price}}</div>
                    <div style="flex:1; display: flex; text-align: center;">
                        <p style="display: inline-block; font-weight: 700; padding-right: 10px; margin-top: 35px;">x{{item.quantity}}</p>
                        <div style="display:block; cursor: pointer; width: 12px;">
                            <button
                            data-menu={{item.product.id}} data-action="remove" class="update-cart btn btn-primary py-2 px-3 mb-1 mt-1"
                            ><span ><strong>-</strong></span></span>
                            </button>
                            <button
                            data-menu={{item.product.id}} data-action="add" class="update-cart btn btn-primary py-2 px-3 mb-1 mt-1"
                            ><span><strong>+</strong></span>
                            </button>
                        </div>
                    </div>
                </div>
                {% endfor %}
    
            </div>
    
        </div>
    </div>
</div>
{% endblock content %}